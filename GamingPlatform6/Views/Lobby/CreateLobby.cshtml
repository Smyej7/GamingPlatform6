@{
    ViewData["Title"] = "Créer un Lobby";

    // Récupérer le nom d'utilisateur depuis le cookie
    var userName = Context.Request.Cookies["username"];
}

<!DOCTYPE html>
<html>
<head>
    <title>@ViewData["Title"]</title>
</head>
<body>

    <div class="container">
        <h2>Créer un Lobby</h2>

        @if (string.IsNullOrEmpty(userName))
        {
            <p style="color: red;">Vous devez d'abord être connecté pour créer un lobby.</p>
        }
        else
        {
            <form method="post">
                <!-- Passer le nom d'utilisateur récupéré depuis le cookie -->
                <input type="hidden" name="hostUserId" value="@userName" />
                <button type="submit">Créer le Lobby</button>
            </form>

            @if (ViewData["LobbyLink"] != null)
            {
                <div class="link-container">
                    <p><strong>Lien de votre lobby :</strong></p>
                    <input type="text" value="@ViewData["LobbyLink"]" readonly />
                    <p>Partagez ce lien avec un autre joueur pour qu'il rejoigne votre lobby.</p>
                </div>
            }
        }
    </div>

</body>
</html>
